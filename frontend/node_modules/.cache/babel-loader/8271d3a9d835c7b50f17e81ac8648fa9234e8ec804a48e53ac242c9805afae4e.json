{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";// ƒê·ªãnh nghƒ©a l·∫°i c√°c interface ƒë·ªÉ ƒë·∫£m b·∫£o ki·ªÉu d·ªØ li·ªáu ch√≠nh x√°c\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reports=()=>{var _reportData$topProduc;const[reportData,setReportData]=useState({totalOrders:0,totalRevenue:0,topProducts:[],monthlyStats:[],dailyStats:[],inventoryStats:{import:{totalTransactions:0,totalQuantity:0},export:{totalTransactions:0,totalQuantity:0}},lowStockProducts:[],period:null});const[loading,setLoading]=useState(true);const[dateFilter,setDateFilter]=useState({startDate:\"\",endDate:\"\"});// G√°n ki·ªÉu d·ªØ li·ªáu ch√≠nh x√°c cho detailOrders\nconst[showDetailList,setShowDetailList]=useState(false);const[detailOrders,setDetailOrders]=useState([]);useEffect(()=>{fetchReportData();},[]);const fetchReportData=async filters=>{try{const token=localStorage.getItem(\"token\");let url=\"http://localhost:5000/api/reports\";if(filters!==null&&filters!==void 0&&filters.startDate&&filters!==null&&filters!==void 0&&filters.endDate){url+=`?startDate=${filters.startDate}&endDate=${filters.endDate}`;}const response=await fetch(url,{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setReportData(data);// Fetch detailed orders for the same period\nconst ordersResponse=await fetch(`http://localhost:5000/api/orders${filters!==null&&filters!==void 0&&filters.startDate&&filters!==null&&filters!==void 0&&filters.endDate?`?startDate=${filters.startDate}&endDate=${filters.endDate}`:\"\"}`,{headers:{Authorization:`Bearer ${token}`}});if(ordersResponse.ok){const ordersData=await ordersResponse.json();setDetailOrders(ordersData);}else{console.error(\"Failed to fetch detailed orders:\",ordersResponse.statusText);setDetailOrders([]);// Clear if fetch fails\n}}else{console.error(\"Failed to fetch report data:\",response.statusText);// Fallback data for demo\nsetReportData({totalOrders:45,totalRevenue:125000000,topProducts:[{name:\"Laptop Dell Inspiron 15\",totalSold:15,revenue:270000000},{name:\"Chu·ªôt kh√¥ng d√¢y Logitech\",totalSold:25,revenue:11250000},{name:\"B√†n ph√≠m c∆° Gaming\",totalSold:12,revenue:14400000}],monthlyStats:[{month:\"1/2024\",orders:12,revenue:35000000},{month:\"2/2024\",orders:18,revenue:45000000},{month:\"3/2024\",orders:15,revenue:45000000}],dailyStats:[],inventoryStats:{import:{totalTransactions:0,totalQuantity:0},export:{totalTransactions:0,totalQuantity:0}},lowStockProducts:[],period:null});// Fallback orders data\nsetDetailOrders([{_id:\"1\",orderNumber:\"ORD000001\",customerName:\"Nguy·ªÖn VƒÉn A\",customerPhone:\"0123456789\",totalAmount:18000000,status:\"completed\",createdAt:new Date().toISOString(),items:[{product:{name:\"Laptop Dell\"},quantity:1,price:18000000}]}]);}}catch(error){console.error(\"Error fetching report data:\",error);// Fallback data\nsetReportData({totalOrders:45,totalRevenue:125000000,topProducts:[{name:\"Laptop Dell Inspiron 15\",totalSold:15,revenue:270000000},{name:\"Chu·ªôt kh√¥ng d√¢y Logitech\",totalSold:25,revenue:11250000},{name:\"B√†n ph√≠m c∆° Gaming\",totalSold:12,revenue:14400000}],monthlyStats:[{month:\"1/2024\",orders:12,revenue:35000000},{month:\"2/2024\",orders:18,revenue:45000000},{month:\"3/2024\",orders:15,revenue:45000000}],dailyStats:[],inventoryStats:{import:{totalTransactions:0,totalQuantity:0},export:{totalTransactions:0,totalQuantity:0}},lowStockProducts:[],period:null});setDetailOrders([]);// Clear orders on error\n}finally{setLoading(false);}};const handleFilterSubmit=e=>{e.preventDefault();if(dateFilter.startDate&&dateFilter.endDate){setLoading(true);setShowDetailList(true);fetchReportData(dateFilter);}else{alert(\"Vui l√≤ng ch·ªçn c·∫£ ng√†y b·∫Øt ƒë·∫ßu v√† ng√†y k·∫øt th√∫c!\");}};const clearFilter=()=>{setDateFilter({startDate:\"\",endDate:\"\"});setLoading(true);setShowDetailList(false);// Hide detailed list when clearing filter\nfetchReportData();};const exportToExcel=async()=>{try{const token=localStorage.getItem(\"token\");let url=\"http://localhost:5000/api/reports/export\";if(dateFilter.startDate&&dateFilter.endDate){url+=`?startDate=${dateFilter.startDate}&endDate=${dateFilter.endDate}`;}const response=await fetch(url,{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const blob=await response.blob();const filename=`bao-cao-${new Date().toISOString().split(\"T\")[0]}.xlsx`;const url=window.URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=filename;document.body.appendChild(a);a.click();a.remove();window.URL.revokeObjectURL(url);}else{const errorText=await response.text();alert(`L·ªói khi xu·∫•t b√°o c√°o: ${errorText||response.statusText}`);}}catch(error){console.error(\"Error exporting Excel:\",error);alert(\"C√≥ l·ªói x·∫£y ra khi xu·∫•t b√°o c√°o Excel.\");}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"B\\xE1o c\\xE1o th\\u1ED1ng k\\xEA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:exportToExcel,className:\"btn-success\",children:\"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"B\\u1ED9 l\\u1ECDc th\\u1EDDi gian\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFilterSubmit,className:\"flex gap-4 items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"T\\u1EEB ng\\xE0y\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFilter.startDate,onChange:e=>setDateFilter({...dateFilter,startDate:e.target.value}),className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"\\u0110\\u1EBFn ng\\xE0y\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFilter.endDate,onChange:e=>setDateFilter({...dateFilter,endDate:e.target.value}),className:\"form-input\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"L\\u1ECDc\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearFilter,className:\"btn-secondary\",children:\"X\\xF3a b\\u1ED9 l\\u1ECDc\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCCA\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"T\\u1ED5ng \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:reportData.totalOrders})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCB0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"T\\u1ED5ng doanh thu\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:[reportData.totalRevenue.toLocaleString(\"vi-VN\"),\" VN\\u0110\"]})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCC8\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Doanh thu TB/\\u0111\\u01A1n\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:[reportData.totalOrders>0?Math.round(reportData.totalRevenue/reportData.totalOrders).toLocaleString(\"vi-VN\"):0,\" \",\"VN\\u0110\"]})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDFC6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"SP b\\xE1n ch\\u1EA1y nh\\u1EA5t\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:((_reportData$topProduc=reportData.topProducts[0])===null||_reportData$topProduc===void 0?void 0:_reportData$topProduc.totalSold)||0})]})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"S\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:reportData.topProducts.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-gray-500 mr-3\",children:[\"#\",index+1]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u0110\\xE3 b\\xE1n: \",product.totalSold,\" s\\u1EA3n ph\\u1EA9m\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-green-600\",children:[product.revenue.toLocaleString(\"vi-VN\"),\" VN\\u0110\"]})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Th\\u1ED1ng k\\xEA theo th\\xE1ng\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:reportData.monthlyStats.map((stat,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900\",children:[\"Th\\xE1ng \",stat.month]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[stat.orders,\" \\u0111\\u01A1n h\\xE0ng\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-blue-600\",children:[stat.revenue.toLocaleString(\"vi-VN\"),\" VN\\u0110\"]})})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Bi\\u1EC3u \\u0111\\u1ED3 doanh thu theo th\\xE1ng\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:reportData.monthlyStats.map((stat,index)=>{const maxRevenue=Math.max(...reportData.monthlyStats.map(s=>s.revenue));const percentage=maxRevenue>0?stat.revenue/maxRevenue*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 text-sm text-gray-600\",children:stat.month}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 mx-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 rounded-full h-6 relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 h-6 rounded-full flex items-center justify-end pr-2\",style:{width:`${percentage}%`},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xs font-medium\",children:stat.revenue.toLocaleString(\"vi-VN\")})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-16 text-sm text-gray-600 text-right\",children:[stat.orders,\" \\u0111\\u01A1n\"]})]},index);})})]}),showDetailList&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-medium text-gray-900\",children:[\"Danh s\\xE1ch \\u0111\\u01A1n h\\xE0ng chi ti\\u1EBFt\",dateFilter.startDate&&dateFilter.endDate&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600 ml-2\",children:[\"(T\\u1EEB \",new Date(dateFilter.startDate).toLocaleDateString(\"vi-VN\"),\" \\u0111\\u1EBFn\",\" \",new Date(dateFilter.endDate).toLocaleDateString(\"vi-VN\"),\")\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetailList(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\u2715 \\u0110\\xF3ng\"})]}),detailOrders.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 py-8\",children:\"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o trong kho\\u1EA3ng th\\u1EDDi gian n\\xE0y\"}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"M\\xE3 \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Ng\\xE0y t\\u1EA1o\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Kh\\xE1ch h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"S\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"T\\u1ED5ng ti\\u1EC1n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tr\\u1EA1ng th\\xE1i\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:detailOrders.map(order=>{var _order$items,_order$totalAmount;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:order.orderNumber}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:new Date(order.createdAt).toLocaleDateString(\"vi-VN\")}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:order.customerName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:order.customerPhone}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:((_order$items=order.items)===null||_order$items===void 0?void 0:_order$items.map((item,index)=>{var _item$product;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[(_item$product=item.product)===null||_item$product===void 0?void 0:_item$product.name,\" x\",item.quantity]},index);}))||\"N/A\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[(_order$totalAmount=order.totalAmount)===null||_order$totalAmount===void 0?void 0:_order$totalAmount.toLocaleString(\"vi-VN\"),\" VN\\u0110\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[order.status===\"completed\"&&/*#__PURE__*/_jsx(\"span\",{className:\"badge-success\",children:\"Ho\\xE0n th\\xE0nh\"}),order.status===\"pending\"&&/*#__PURE__*/_jsx(\"span\",{className:\"badge-warning\",children:\"Ch\\u1EDD x\\u1EED l\\xFD\"}),order.status===\"cancelled\"&&/*#__PURE__*/_jsx(\"span\",{className:\"badge-danger\",children:\"\\u0110\\xE3 h\\u1EE7y\"})]})]},order._id);})})]})})]})]});};export default Reports;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","Reports","_reportData$topProduc","reportData","setReportData","totalOrders","totalRevenue","topProducts","monthlyStats","dailyStats","inventoryStats","import","totalTransactions","totalQuantity","export","lowStockProducts","period","loading","setLoading","dateFilter","setDateFilter","startDate","endDate","showDetailList","setShowDetailList","detailOrders","setDetailOrders","fetchReportData","filters","token","localStorage","getItem","url","response","fetch","headers","Authorization","ok","data","json","ordersResponse","ordersData","console","error","statusText","name","totalSold","revenue","month","orders","_id","orderNumber","customerName","customerPhone","totalAmount","status","createdAt","Date","toISOString","items","product","quantity","price","handleFilterSubmit","e","preventDefault","alert","clearFilter","exportToExcel","blob","filename","split","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","remove","revokeObjectURL","errorText","text","className","children","onClick","onSubmit","type","value","onChange","target","toLocaleString","Math","round","map","index","stat","maxRevenue","max","s","percentage","style","width","toLocaleDateString","length","order","_order$items","_order$totalAmount","item","_item$product"],"sources":["D:/DU LIEU O D/Code/inventory-management3/frontend/src/components/Reports.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\n\n// ƒê·ªãnh nghƒ©a l·∫°i c√°c interface ƒë·ªÉ ƒë·∫£m b·∫£o ki·ªÉu d·ªØ li·ªáu ch√≠nh x√°c\ninterface ProductItem {\n  name: string\n  unit?: string // Th√™m unit n·∫øu c·∫ßn\n  code?: string // Th√™m code n·∫øu c·∫ßn\n}\n\ninterface OrderItem {\n  product: ProductItem\n  quantity: number\n  price: number\n}\n\ninterface Order {\n  _id: string\n  orderNumber: string\n  customerName: string\n  customerPhone: string\n  items: OrderItem[]\n  totalAmount: number\n  status: \"pending\" | \"completed\" | \"cancelled\"\n  createdAt: string\n}\n\ninterface ReportData {\n  totalOrders: number\n  totalRevenue: number\n  topProducts: Array<{\n    name: string\n    totalSold: number\n    revenue: number\n  }>\n  monthlyStats: Array<{\n    month: string\n    orders: number\n    revenue: number\n  }>\n  dailyStats: Array<{\n    date: string\n    orders: number\n    revenue: number\n  }>\n  inventoryStats: {\n    import: { totalTransactions: number; totalQuantity: number }\n    export: { totalTransactions: number; totalQuantity: number }\n  }\n  lowStockProducts: Array<{\n    name: string\n    stock: number\n    unit: string\n    lowStockThreshold: number\n  }>\n  period: { startDate: string; endDate: string } | null\n}\n\nconst Reports: React.FC = () => {\n  const [reportData, setReportData] = useState<ReportData>({\n    totalOrders: 0,\n    totalRevenue: 0,\n    topProducts: [],\n    monthlyStats: [],\n    dailyStats: [],\n    inventoryStats: {\n      import: { totalTransactions: 0, totalQuantity: 0 },\n      export: { totalTransactions: 0, totalQuantity: 0 },\n    },\n    lowStockProducts: [],\n    period: null,\n  })\n  const [loading, setLoading] = useState(true)\n  const [dateFilter, setDateFilter] = useState({\n    startDate: \"\",\n    endDate: \"\",\n  })\n\n  // G√°n ki·ªÉu d·ªØ li·ªáu ch√≠nh x√°c cho detailOrders\n  const [showDetailList, setShowDetailList] = useState(false)\n  const [detailOrders, setDetailOrders] = useState<Order[]>([])\n\n  useEffect(() => {\n    fetchReportData()\n  }, [])\n\n  const fetchReportData = async (filters?: { startDate?: string; endDate?: string }) => {\n    try {\n      const token = localStorage.getItem(\"token\")\n      let url = \"http://localhost:5000/api/reports\"\n\n      if (filters?.startDate && filters?.endDate) {\n        url += `?startDate=${filters.startDate}&endDate=${filters.endDate}`\n      }\n\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        const data: ReportData = await response.json()\n        setReportData(data)\n\n        // Fetch detailed orders for the same period\n        const ordersResponse = await fetch(\n          `http://localhost:5000/api/orders${filters?.startDate && filters?.endDate ? `?startDate=${filters.startDate}&endDate=${filters.endDate}` : \"\"}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        )\n\n        if (ordersResponse.ok) {\n          const ordersData: Order[] = await ordersResponse.json()\n          setDetailOrders(ordersData)\n        } else {\n          console.error(\"Failed to fetch detailed orders:\", ordersResponse.statusText)\n          setDetailOrders([]) // Clear if fetch fails\n        }\n      } else {\n        console.error(\"Failed to fetch report data:\", response.statusText)\n        // Fallback data for demo\n        setReportData({\n          totalOrders: 45,\n          totalRevenue: 125000000,\n          topProducts: [\n            { name: \"Laptop Dell Inspiron 15\", totalSold: 15, revenue: 270000000 },\n            { name: \"Chu·ªôt kh√¥ng d√¢y Logitech\", totalSold: 25, revenue: 11250000 },\n            { name: \"B√†n ph√≠m c∆° Gaming\", totalSold: 12, revenue: 14400000 },\n          ],\n          monthlyStats: [\n            { month: \"1/2024\", orders: 12, revenue: 35000000 },\n            { month: \"2/2024\", orders: 18, revenue: 45000000 },\n            { month: \"3/2024\", orders: 15, revenue: 45000000 },\n          ],\n          dailyStats: [],\n          inventoryStats: {\n            import: { totalTransactions: 0, totalQuantity: 0 },\n            export: { totalTransactions: 0, totalQuantity: 0 },\n          },\n          lowStockProducts: [],\n          period: null,\n        })\n\n        // Fallback orders data\n        setDetailOrders([\n          {\n            _id: \"1\",\n            orderNumber: \"ORD000001\",\n            customerName: \"Nguy·ªÖn VƒÉn A\",\n            customerPhone: \"0123456789\",\n            totalAmount: 18000000,\n            status: \"completed\",\n            createdAt: new Date().toISOString(),\n            items: [{ product: { name: \"Laptop Dell\" }, quantity: 1, price: 18000000 }],\n          },\n        ])\n      }\n    } catch (error) {\n      console.error(\"Error fetching report data:\", error)\n      // Fallback data\n      setReportData({\n        totalOrders: 45,\n        totalRevenue: 125000000,\n        topProducts: [\n          { name: \"Laptop Dell Inspiron 15\", totalSold: 15, revenue: 270000000 },\n          { name: \"Chu·ªôt kh√¥ng d√¢y Logitech\", totalSold: 25, revenue: 11250000 },\n          { name: \"B√†n ph√≠m c∆° Gaming\", totalSold: 12, revenue: 14400000 },\n        ],\n        monthlyStats: [\n          { month: \"1/2024\", orders: 12, revenue: 35000000 },\n          { month: \"2/2024\", orders: 18, revenue: 45000000 },\n          { month: \"3/2024\", orders: 15, revenue: 45000000 },\n        ],\n        dailyStats: [],\n        inventoryStats: {\n          import: { totalTransactions: 0, totalQuantity: 0 },\n          export: { totalTransactions: 0, totalQuantity: 0 },\n        },\n        lowStockProducts: [],\n        period: null,\n      })\n      setDetailOrders([]) // Clear orders on error\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFilterSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (dateFilter.startDate && dateFilter.endDate) {\n      setLoading(true)\n      setShowDetailList(true)\n      fetchReportData(dateFilter)\n    } else {\n      alert(\"Vui l√≤ng ch·ªçn c·∫£ ng√†y b·∫Øt ƒë·∫ßu v√† ng√†y k·∫øt th√∫c!\")\n    }\n  }\n\n  const clearFilter = () => {\n    setDateFilter({ startDate: \"\", endDate: \"\" })\n    setLoading(true)\n    setShowDetailList(false) // Hide detailed list when clearing filter\n    fetchReportData()\n  }\n\n  const exportToExcel = async () => {\n    try {\n      const token = localStorage.getItem(\"token\")\n      let url = \"http://localhost:5000/api/reports/export\"\n\n      if (dateFilter.startDate && dateFilter.endDate) {\n        url += `?startDate=${dateFilter.startDate}&endDate=${dateFilter.endDate}`\n      }\n\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        const blob = await response.blob()\n        const filename = `bao-cao-${new Date().toISOString().split(\"T\")[0]}.xlsx`\n        const url = window.URL.createObjectURL(blob)\n        const a = document.createElement(\"a\")\n        a.href = url\n        a.download = filename\n        document.body.appendChild(a)\n        a.click()\n        a.remove()\n        window.URL.revokeObjectURL(url)\n      } else {\n        const errorText = await response.text()\n        alert(`L·ªói khi xu·∫•t b√°o c√°o: ${errorText || response.statusText}`)\n      }\n    } catch (error) {\n      console.error(\"Error exporting Excel:\", error)\n      alert(\"C√≥ l·ªói x·∫£y ra khi xu·∫•t b√°o c√°o Excel.\")\n    }\n  }\n\n  if (loading) {\n    return <div className=\"text-center py-8\">ƒêang t·∫£i d·ªØ li·ªáu...</div>\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">B√°o c√°o th·ªëng k√™</h1>\n        <button onClick={exportToExcel} className=\"btn-success\">\n          üìä Xu·∫•t Excel\n        </button>\n      </div>\n\n      {/* Date Filter */}\n      <div className=\"bg-white shadow rounded-lg p-6 mb-6\">\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">B·ªô l·ªçc th·ªùi gian</h2>\n        <form onSubmit={handleFilterSubmit} className=\"flex gap-4 items-end\">\n          <div>\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">T·ª´ ng√†y</label>\n            <input\n              type=\"date\"\n              value={dateFilter.startDate}\n              onChange={(e) => setDateFilter({ ...dateFilter, startDate: e.target.value })}\n              className=\"form-input\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">ƒê·∫øn ng√†y</label>\n            <input\n              type=\"date\"\n              value={dateFilter.endDate}\n              onChange={(e) => setDateFilter({ ...dateFilter, endDate: e.target.value })}\n              className=\"form-input\"\n            />\n          </div>\n          <button type=\"submit\" className=\"btn-primary\">\n            L·ªçc\n          </button>\n          <button type=\"button\" onClick={clearFilter} className=\"btn-secondary\">\n            X√≥a b·ªô l·ªçc\n          </button>\n        </form>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">üìä</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">T·ªïng ƒë∆°n h√†ng</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">{reportData.totalOrders}</dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">üí∞</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">T·ªïng doanh thu</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {reportData.totalRevenue.toLocaleString(\"vi-VN\")} VNƒê\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">üìà</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Doanh thu TB/ƒë∆°n</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {reportData.totalOrders > 0\n                      ? Math.round(reportData.totalRevenue / reportData.totalOrders).toLocaleString(\"vi-VN\")\n                      : 0}{\" \"}\n                    VNƒê\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">üèÜ</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">SP b√°n ch·∫°y nh·∫•t</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">{reportData.topProducts[0]?.totalSold || 0}</dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Top Products */}\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">S·∫£n ph·∫©m b√°n ch·∫°y</h2>\n          <div className=\"space-y-4\">\n            {reportData.topProducts.map((product, index) => (\n              <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <span className=\"text-lg font-bold text-gray-500 mr-3\">#{index + 1}</span>\n                  <div>\n                    <p className=\"font-medium text-gray-900\">{product.name}</p>\n                    <p className=\"text-sm text-gray-600\">ƒê√£ b√°n: {product.totalSold} s·∫£n ph·∫©m</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"font-medium text-green-600\">{product.revenue.toLocaleString(\"vi-VN\")} VNƒê</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Monthly Stats */}\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Th·ªëng k√™ theo th√°ng</h2>\n          <div className=\"space-y-4\">\n            {reportData.monthlyStats.map((stat, index) => (\n              <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div>\n                  <p className=\"font-medium text-gray-900\">Th√°ng {stat.month}</p>\n                  <p className=\"text-sm text-gray-600\">{stat.orders} ƒë∆°n h√†ng</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"font-medium text-blue-600\">{stat.revenue.toLocaleString(\"vi-VN\")} VNƒê</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Simple Chart Visualization */}\n      <div className=\"mt-8 bg-white shadow rounded-lg p-6\">\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Bi·ªÉu ƒë·ªì doanh thu theo th√°ng</h2>\n        <div className=\"space-y-3\">\n          {reportData.monthlyStats.map((stat, index) => {\n            const maxRevenue = Math.max(...reportData.monthlyStats.map((s) => s.revenue))\n            const percentage = maxRevenue > 0 ? (stat.revenue / maxRevenue) * 100 : 0\n\n            return (\n              <div key={index} className=\"flex items-center\">\n                <div className=\"w-20 text-sm text-gray-600\">{stat.month}</div>\n                <div className=\"flex-1 mx-4\">\n                  <div className=\"bg-gray-200 rounded-full h-6 relative\">\n                    <div\n                      className=\"bg-blue-500 h-6 rounded-full flex items-center justify-end pr-2\"\n                      style={{ width: `${percentage}%` }}\n                    >\n                      <span className=\"text-white text-xs font-medium\">{stat.revenue.toLocaleString(\"vi-VN\")}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"w-16 text-sm text-gray-600 text-right\">{stat.orders} ƒë∆°n</div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Detailed Orders List */}\n      {showDetailList && (\n        <div className=\"mt-8 bg-white shadow rounded-lg p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-lg font-medium text-gray-900\">\n              Danh s√°ch ƒë∆°n h√†ng chi ti·∫øt\n              {dateFilter.startDate && dateFilter.endDate && (\n                <span className=\"text-sm text-gray-600 ml-2\">\n                  (T·ª´ {new Date(dateFilter.startDate).toLocaleDateString(\"vi-VN\")} ƒë·∫øn{\" \"}\n                  {new Date(dateFilter.endDate).toLocaleDateString(\"vi-VN\")})\n                </span>\n              )}\n            </h2>\n            <button onClick={() => setShowDetailList(false)} className=\"text-gray-400 hover:text-gray-600\">\n              ‚úï ƒê√≥ng\n            </button>\n          </div>\n\n          {detailOrders.length === 0 ? (\n            <p className=\"text-center text-gray-500 py-8\">Kh√¥ng c√≥ ƒë∆°n h√†ng n√†o trong kho·∫£ng th·ªùi gian n√†y</p>\n          ) : (\n            <div className=\"table-responsive\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      M√£ ƒë∆°n h√†ng\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Ng√†y t·∫°o\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Kh√°ch h√†ng\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      S·ªë ƒëi·ªán tho·∫°i\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      S·∫£n ph·∫©m\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      T·ªïng ti·ªÅn\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Tr·∫°ng th√°i\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {detailOrders.map((order) => (\n                    <tr key={order._id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                        {order.orderNumber}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {new Date(order.createdAt).toLocaleDateString(\"vi-VN\")}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{order.customerName}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{order.customerPhone}</td>\n                      <td className=\"px-6 py-4 text-sm text-gray-900\">\n                        {order.items?.map((item, index) => (\n                          <div key={index} className=\"text-xs\">\n                            {item.product?.name} x{item.quantity}\n                          </div>\n                        )) || \"N/A\"}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {order.totalAmount?.toLocaleString(\"vi-VN\")} VNƒê\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {order.status === \"completed\" && <span className=\"badge-success\">Ho√†n th√†nh</span>}\n                        {order.status === \"pending\" && <span className=\"badge-warning\">Ch·ªù x·ª≠ l√Ω</span>}\n                        {order.status === \"cancelled\" && <span className=\"badge-danger\">ƒê√£ h·ªßy</span>}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Reports\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}