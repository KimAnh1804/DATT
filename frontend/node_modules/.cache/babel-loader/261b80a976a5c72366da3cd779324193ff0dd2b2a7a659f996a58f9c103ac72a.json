{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"D:\\\\Code\\\\inventory-management3\\\\frontend\\\\src\\\\components\\\\Reports.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\n\n// Định nghĩa lại các interface để đảm bảo kiểu dữ liệu chính xác\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reports = () => {\n  _s();\n  var _reportData$topProduc;\n  const [reportData, setReportData] = useState({\n    totalOrders: 0,\n    totalRevenue: 0,\n    topProducts: [],\n    monthlyStats: [],\n    dailyStats: [],\n    inventoryStats: {\n      import: {\n        totalTransactions: 0,\n        totalQuantity: 0\n      },\n      export: {\n        totalTransactions: 0,\n        totalQuantity: 0\n      }\n    },\n    lowStockProducts: [],\n    period: null\n  });\n  const [loading, setLoading] = useState(true);\n  const [dateFilter, setDateFilter] = useState({\n    startDate: \"\",\n    endDate: \"\"\n  });\n\n  // Gán kiểu dữ liệu chính xác cho detailOrders\n  const [showDetailList, setShowDetailList] = useState(false);\n  const [detailOrders, setDetailOrders] = useState([]);\n  useEffect(() => {\n    fetchReportData();\n  }, []);\n  const fetchReportData = async filters => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      let url = \"http://localhost:5000/api/reports\";\n      if (filters !== null && filters !== void 0 && filters.startDate && filters !== null && filters !== void 0 && filters.endDate) {\n        url += `?startDate=${filters.startDate}&endDate=${filters.endDate}`;\n      }\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setReportData(data);\n\n        // Fetch detailed orders for the same period\n        const ordersResponse = await fetch(`http://localhost:5000/api/orders${filters !== null && filters !== void 0 && filters.startDate && filters !== null && filters !== void 0 && filters.endDate ? `?startDate=${filters.startDate}&endDate=${filters.endDate}` : \"\"}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (ordersResponse.ok) {\n          const ordersData = await ordersResponse.json();\n          setDetailOrders(ordersData);\n        } else {\n          console.error(\"Failed to fetch detailed orders:\", ordersResponse.statusText);\n          setDetailOrders([]); // Clear if fetch fails\n        }\n      } else {\n        console.error(\"Failed to fetch report data:\", response.statusText);\n        // Fallback data for demo\n        setReportData({\n          totalOrders: 45,\n          totalRevenue: 125000000,\n          topProducts: [{\n            name: \"Laptop Dell Inspiron 15\",\n            totalSold: 15,\n            revenue: 270000000\n          }, {\n            name: \"Chuột không dây Logitech\",\n            totalSold: 25,\n            revenue: 11250000\n          }, {\n            name: \"Bàn phím cơ Gaming\",\n            totalSold: 12,\n            revenue: 14400000\n          }],\n          monthlyStats: [{\n            month: \"1/2024\",\n            orders: 12,\n            revenue: 35000000\n          }, {\n            month: \"2/2024\",\n            orders: 18,\n            revenue: 45000000\n          }, {\n            month: \"3/2024\",\n            orders: 15,\n            revenue: 45000000\n          }],\n          dailyStats: [],\n          inventoryStats: {\n            import: {\n              totalTransactions: 0,\n              totalQuantity: 0\n            },\n            export: {\n              totalTransactions: 0,\n              totalQuantity: 0\n            }\n          },\n          lowStockProducts: [],\n          period: null\n        });\n\n        // Fallback orders data\n        setDetailOrders([{\n          _id: \"1\",\n          orderNumber: \"ORD000001\",\n          customerName: \"Nguyễn Văn A\",\n          customerPhone: \"0123456789\",\n          totalAmount: 18000000,\n          status: \"completed\",\n          createdAt: new Date().toISOString(),\n          items: [{\n            product: {\n              name: \"Laptop Dell\"\n            },\n            quantity: 1,\n            price: 18000000\n          }]\n        }]);\n      }\n    } catch (error) {\n      console.error(\"Error fetching report data:\", error);\n      // Fallback data\n      setReportData({\n        totalOrders: 45,\n        totalRevenue: 125000000,\n        topProducts: [{\n          name: \"Laptop Dell Inspiron 15\",\n          totalSold: 15,\n          revenue: 270000000\n        }, {\n          name: \"Chuột không dây Logitech\",\n          totalSold: 25,\n          revenue: 11250000\n        }, {\n          name: \"Bàn phím cơ Gaming\",\n          totalSold: 12,\n          revenue: 14400000\n        }],\n        monthlyStats: [{\n          month: \"1/2024\",\n          orders: 12,\n          revenue: 35000000\n        }, {\n          month: \"2/2024\",\n          orders: 18,\n          revenue: 45000000\n        }, {\n          month: \"3/2024\",\n          orders: 15,\n          revenue: 45000000\n        }],\n        dailyStats: [],\n        inventoryStats: {\n          import: {\n            totalTransactions: 0,\n            totalQuantity: 0\n          },\n          export: {\n            totalTransactions: 0,\n            totalQuantity: 0\n          }\n        },\n        lowStockProducts: [],\n        period: null\n      });\n      setDetailOrders([]); // Clear orders on error\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilterSubmit = e => {\n    e.preventDefault();\n    if (dateFilter.startDate && dateFilter.endDate) {\n      setLoading(true);\n      setShowDetailList(true);\n      fetchReportData(dateFilter);\n    } else {\n      alert(\"Vui lòng chọn cả ngày bắt đầu và ngày kết thúc!\");\n    }\n  };\n  const clearFilter = () => {\n    setDateFilter({\n      startDate: \"\",\n      endDate: \"\"\n    });\n    setLoading(true);\n    setShowDetailList(false); // Hide detailed list when clearing filter\n    fetchReportData();\n  };\n  const exportToExcel = () => {\n    // Simple CSV export\n    const csvContent = [[\"Báo cáo thống kê\"], [\"\"], [\"Tổng đơn hàng\", reportData.totalOrders], [\"Tổng doanh thu\", reportData.totalRevenue], [\"\"], [\"Sản phẩm bán chạy\"], [\"Tên sản phẩm\", \"Số lượng bán\", \"Doanh thu\"], ...reportData.topProducts.map(p => [p.name, p.totalSold, p.revenue]), [\"\"], [\"Thống kê theo tháng\"], [\"Tháng\", \"Số đơn hàng\", \"Doanh thu\"], ...reportData.monthlyStats.map(m => [m.month, m.orders, m.revenue])];\n    const csvString = csvContent.map(row => row.join(\",\")).join(\"\\n\");\n    const blob = new Blob([csvString], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const link = document.createElement(\"a\");\n    const url = URL.createObjectURL(blob);\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", `bao-cao-${new Date().toISOString().split(\"T\")[0]}.csv`);\n    link.style.visibility = \"hidden\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"B\\xE1o c\\xE1o th\\u1ED1ng k\\xEA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportToExcel,\n        className: \"btn-success\",\n        children: \"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg p-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"B\\u1ED9 l\\u1ECDc th\\u1EDDi gian\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleFilterSubmit,\n        className: \"flex gap-4 items-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-2\",\n            children: \"T\\u1EEB ng\\xE0y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: dateFilter.startDate,\n            onChange: e => setDateFilter({\n              ...dateFilter,\n              startDate: e.target.value\n            }),\n            className: \"form-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-2\",\n            children: \"\\u0110\\u1EBFn ng\\xE0y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: dateFilter.endDate,\n            onChange: e => setDateFilter({\n              ...dateFilter,\n              endDate: e.target.value\n            }),\n            className: \"form-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-primary\",\n          children: \"L\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: clearFilter,\n          className: \"btn-secondary\",\n          children: \"X\\xF3a b\\u1ED9 l\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl\",\n                children: \"\\uD83D\\uDCCA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"T\\u1ED5ng \\u0111\\u01A1n h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: reportData.totalOrders\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl\",\n                children: \"\\uD83D\\uDCB0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"T\\u1ED5ng doanh thu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: [reportData.totalRevenue.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl\",\n                children: \"\\uD83D\\uDCC8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Doanh thu TB/\\u0111\\u01A1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: [reportData.totalOrders > 0 ? Math.round(reportData.totalRevenue / reportData.totalOrders).toLocaleString(\"vi-VN\") : 0, \" \", \"VN\\u0110\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl\",\n                children: \"\\uD83C\\uDFC6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"SP b\\xE1n ch\\u1EA1y nh\\u1EA5t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: ((_reportData$topProduc = reportData.topProducts[0]) === null || _reportData$topProduc === void 0 ? void 0 : _reportData$topProduc.totalSold) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow rounded-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-gray-900 mb-4\",\n          children: \"S\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: reportData.topProducts.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg font-bold text-gray-500 mr-3\",\n                children: [\"#\", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-900\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"\\u0110\\xE3 b\\xE1n: \", product.totalSold, \" s\\u1EA3n ph\\u1EA9m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-green-600\",\n                children: [product.revenue.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow rounded-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-gray-900 mb-4\",\n          children: \"Th\\u1ED1ng k\\xEA theo th\\xE1ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: reportData.monthlyStats.map((stat, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-gray-900\",\n                children: [\"Th\\xE1ng \", stat.month]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [stat.orders, \" \\u0111\\u01A1n h\\xE0ng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-blue-600\",\n                children: [stat.revenue.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white shadow rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Bi\\u1EC3u \\u0111\\u1ED3 doanh thu theo th\\xE1ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: reportData.monthlyStats.map((stat, index) => {\n          const maxRevenue = Math.max(...reportData.monthlyStats.map(s => s.revenue));\n          const percentage = maxRevenue > 0 ? stat.revenue / maxRevenue * 100 : 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 text-sm text-gray-600\",\n              children: stat.month\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 mx-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-200 rounded-full h-6 relative\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-500 h-6 rounded-full flex items-center justify-end pr-2\",\n                  style: {\n                    width: `${percentage}%`\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white text-xs font-medium\",\n                    children: stat.revenue.toLocaleString(\"vi-VN\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 text-sm text-gray-600 text-right\",\n              children: [stat.orders, \" \\u0111\\u01A1n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this), showDetailList && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white shadow rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: [\"Danh s\\xE1ch \\u0111\\u01A1n h\\xE0ng chi ti\\u1EBFt\", dateFilter.startDate && dateFilter.endDate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600 ml-2\",\n            children: [\"(T\\u1EEB \", new Date(dateFilter.startDate).toLocaleDateString(\"vi-VN\"), \" \\u0111\\u1EBFn\", \" \", new Date(dateFilter.endDate).toLocaleDateString(\"vi-VN\"), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowDetailList(false),\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: \"\\u2715 \\u0110\\xF3ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this), detailOrders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-500 py-8\",\n        children: \"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o trong kho\\u1EA3ng th\\u1EDDi gian n\\xE0y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"M\\xE3 \\u0111\\u01A1n h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Ng\\xE0y t\\u1EA1o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"S\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"T\\u1ED5ng ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Tr\\u1EA1ng th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: detailOrders.map(order => {\n              var _order$items, _order$totalAmount;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                  children: order.orderNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: new Date(order.createdAt).toLocaleDateString(\"vi-VN\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: order.customerName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: order.customerPhone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 text-sm text-gray-900\",\n                  children: ((_order$items = order.items) === null || _order$items === void 0 ? void 0 : _order$items.map((item, index) => {\n                    var _item$product;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs\",\n                      children: [(_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.name, \" x\", item.quantity]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 27\n                    }, this);\n                  })) || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: [(_order$totalAmount = order.totalAmount) === null || _order$totalAmount === void 0 ? void 0 : _order$totalAmount.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: [order.status === \"completed\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge-success\",\n                    children: \"Ho\\xE0n th\\xE0nh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 58\n                  }, this), order.status === \"pending\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge-warning\",\n                    children: \"Ch\\u1EDD x\\u1EED l\\xFD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 56\n                  }, this), order.status === \"cancelled\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge-danger\",\n                    children: \"\\u0110\\xE3 h\\u1EE7y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 58\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 23\n                }, this)]\n              }, order._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"vaiLfdPgLkJcfQPgpex+gtT/fvA=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","jsxDEV","_jsxDEV","Reports","_reportData$topProduc","reportData","setReportData","totalOrders","totalRevenue","topProducts","monthlyStats","dailyStats","inventoryStats","import","totalTransactions","totalQuantity","export","lowStockProducts","period","loading","setLoading","dateFilter","setDateFilter","startDate","endDate","showDetailList","setShowDetailList","detailOrders","setDetailOrders","fetchReportData","filters","token","localStorage","getItem","url","response","fetch","headers","Authorization","ok","data","json","ordersResponse","ordersData","console","error","statusText","name","totalSold","revenue","month","orders","_id","orderNumber","customerName","customerPhone","totalAmount","status","createdAt","Date","toISOString","items","product","quantity","price","handleFilterSubmit","e","preventDefault","alert","clearFilter","exportToExcel","csvContent","map","p","m","csvString","row","join","blob","Blob","type","link","document","createElement","URL","createObjectURL","setAttribute","split","style","visibility","body","appendChild","click","removeChild","className","children","fileName","lineNumber","columnNumber","onClick","onSubmit","value","onChange","target","toLocaleString","Math","round","index","stat","maxRevenue","max","s","percentage","width","toLocaleDateString","length","order","_order$items","_order$totalAmount","item","_item$product","_c","$RefreshReg$"],"sources":["D:/Code/inventory-management3/frontend/src/components/Reports.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\n\n// Định nghĩa lại các interface để đảm bảo kiểu dữ liệu chính xác\ninterface ProductItem {\n  name: string\n  unit?: string // Thêm unit nếu cần\n  code?: string // Thêm code nếu cần\n}\n\ninterface OrderItem {\n  product: ProductItem\n  quantity: number\n  price: number\n}\n\ninterface Order {\n  _id: string\n  orderNumber: string\n  customerName: string\n  customerPhone: string\n  items: OrderItem[]\n  totalAmount: number\n  status: \"pending\" | \"completed\" | \"cancelled\"\n  createdAt: string\n}\n\ninterface ReportData {\n  totalOrders: number\n  totalRevenue: number\n  topProducts: Array<{\n    name: string\n    totalSold: number\n    revenue: number\n  }>\n  monthlyStats: Array<{\n    month: string\n    orders: number\n    revenue: number\n  }>\n  dailyStats: Array<{\n    date: string\n    orders: number\n    revenue: number\n  }>\n  inventoryStats: {\n    import: { totalTransactions: number; totalQuantity: number }\n    export: { totalTransactions: number; totalQuantity: number }\n  }\n  lowStockProducts: Array<{\n    name: string\n    stock: number\n    unit: string\n    lowStockThreshold: number\n  }>\n  period: { startDate: string; endDate: string } | null\n}\n\nconst Reports: React.FC = () => {\n  const [reportData, setReportData] = useState<ReportData>({\n    totalOrders: 0,\n    totalRevenue: 0,\n    topProducts: [],\n    monthlyStats: [],\n    dailyStats: [],\n    inventoryStats: {\n      import: { totalTransactions: 0, totalQuantity: 0 },\n      export: { totalTransactions: 0, totalQuantity: 0 },\n    },\n    lowStockProducts: [],\n    period: null,\n  })\n  const [loading, setLoading] = useState(true)\n  const [dateFilter, setDateFilter] = useState({\n    startDate: \"\",\n    endDate: \"\",\n  })\n\n  // Gán kiểu dữ liệu chính xác cho detailOrders\n  const [showDetailList, setShowDetailList] = useState(false)\n  const [detailOrders, setDetailOrders] = useState<Order[]>([])\n\n  useEffect(() => {\n    fetchReportData()\n  }, [])\n\n  const fetchReportData = async (filters?: { startDate?: string; endDate?: string }) => {\n    try {\n      const token = localStorage.getItem(\"token\")\n      let url = \"http://localhost:5000/api/reports\"\n\n      if (filters?.startDate && filters?.endDate) {\n        url += `?startDate=${filters.startDate}&endDate=${filters.endDate}`\n      }\n\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        const data: ReportData = await response.json()\n        setReportData(data)\n\n        // Fetch detailed orders for the same period\n        const ordersResponse = await fetch(\n          `http://localhost:5000/api/orders${filters?.startDate && filters?.endDate ? `?startDate=${filters.startDate}&endDate=${filters.endDate}` : \"\"}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        )\n\n        if (ordersResponse.ok) {\n          const ordersData: Order[] = await ordersResponse.json()\n          setDetailOrders(ordersData)\n        } else {\n          console.error(\"Failed to fetch detailed orders:\", ordersResponse.statusText)\n          setDetailOrders([]) // Clear if fetch fails\n        }\n      } else {\n        console.error(\"Failed to fetch report data:\", response.statusText)\n        // Fallback data for demo\n        setReportData({\n          totalOrders: 45,\n          totalRevenue: 125000000,\n          topProducts: [\n            { name: \"Laptop Dell Inspiron 15\", totalSold: 15, revenue: 270000000 },\n            { name: \"Chuột không dây Logitech\", totalSold: 25, revenue: 11250000 },\n            { name: \"Bàn phím cơ Gaming\", totalSold: 12, revenue: 14400000 },\n          ],\n          monthlyStats: [\n            { month: \"1/2024\", orders: 12, revenue: 35000000 },\n            { month: \"2/2024\", orders: 18, revenue: 45000000 },\n            { month: \"3/2024\", orders: 15, revenue: 45000000 },\n          ],\n          dailyStats: [],\n          inventoryStats: {\n            import: { totalTransactions: 0, totalQuantity: 0 },\n            export: { totalTransactions: 0, totalQuantity: 0 },\n          },\n          lowStockProducts: [],\n          period: null,\n        })\n\n        // Fallback orders data\n        setDetailOrders([\n          {\n            _id: \"1\",\n            orderNumber: \"ORD000001\",\n            customerName: \"Nguyễn Văn A\",\n            customerPhone: \"0123456789\",\n            totalAmount: 18000000,\n            status: \"completed\",\n            createdAt: new Date().toISOString(),\n            items: [{ product: { name: \"Laptop Dell\" }, quantity: 1, price: 18000000 }],\n          },\n        ])\n      }\n    } catch (error) {\n      console.error(\"Error fetching report data:\", error)\n      // Fallback data\n      setReportData({\n        totalOrders: 45,\n        totalRevenue: 125000000,\n        topProducts: [\n          { name: \"Laptop Dell Inspiron 15\", totalSold: 15, revenue: 270000000 },\n          { name: \"Chuột không dây Logitech\", totalSold: 25, revenue: 11250000 },\n          { name: \"Bàn phím cơ Gaming\", totalSold: 12, revenue: 14400000 },\n        ],\n        monthlyStats: [\n          { month: \"1/2024\", orders: 12, revenue: 35000000 },\n          { month: \"2/2024\", orders: 18, revenue: 45000000 },\n          { month: \"3/2024\", orders: 15, revenue: 45000000 },\n        ],\n        dailyStats: [],\n        inventoryStats: {\n          import: { totalTransactions: 0, totalQuantity: 0 },\n          export: { totalTransactions: 0, totalQuantity: 0 },\n        },\n        lowStockProducts: [],\n        period: null,\n      })\n      setDetailOrders([]) // Clear orders on error\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFilterSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (dateFilter.startDate && dateFilter.endDate) {\n      setLoading(true)\n      setShowDetailList(true)\n      fetchReportData(dateFilter)\n    } else {\n      alert(\"Vui lòng chọn cả ngày bắt đầu và ngày kết thúc!\")\n    }\n  }\n\n  const clearFilter = () => {\n    setDateFilter({ startDate: \"\", endDate: \"\" })\n    setLoading(true)\n    setShowDetailList(false) // Hide detailed list when clearing filter\n    fetchReportData()\n  }\n\n  const exportToExcel = () => {\n    // Simple CSV export\n    const csvContent = [\n      [\"Báo cáo thống kê\"],\n      [\"\"],\n      [\"Tổng đơn hàng\", reportData.totalOrders],\n      [\"Tổng doanh thu\", reportData.totalRevenue],\n      [\"\"],\n      [\"Sản phẩm bán chạy\"],\n      [\"Tên sản phẩm\", \"Số lượng bán\", \"Doanh thu\"],\n      ...reportData.topProducts.map((p) => [p.name, p.totalSold, p.revenue]),\n      [\"\"],\n      [\"Thống kê theo tháng\"],\n      [\"Tháng\", \"Số đơn hàng\", \"Doanh thu\"],\n      ...reportData.monthlyStats.map((m) => [m.month, m.orders, m.revenue]),\n    ]\n\n    const csvString = csvContent.map((row) => row.join(\",\")).join(\"\\n\")\n    const blob = new Blob([csvString], { type: \"text/csv;charset=utf-8;\" })\n    const link = document.createElement(\"a\")\n    const url = URL.createObjectURL(blob)\n    link.setAttribute(\"href\", url)\n    link.setAttribute(\"download\", `bao-cao-${new Date().toISOString().split(\"T\")[0]}.csv`)\n    link.style.visibility = \"hidden\"\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  if (loading) {\n    return <div className=\"text-center py-8\">Đang tải dữ liệu...</div>\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Báo cáo thống kê</h1>\n        <button onClick={exportToExcel} className=\"btn-success\">\n          📊 Xuất Excel\n        </button>\n      </div>\n\n      {/* Date Filter */}\n      <div className=\"bg-white shadow rounded-lg p-6 mb-6\">\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Bộ lọc thời gian</h2>\n        <form onSubmit={handleFilterSubmit} className=\"flex gap-4 items-end\">\n          <div>\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">Từ ngày</label>\n            <input\n              type=\"date\"\n              value={dateFilter.startDate}\n              onChange={(e) => setDateFilter({ ...dateFilter, startDate: e.target.value })}\n              className=\"form-input\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">Đến ngày</label>\n            <input\n              type=\"date\"\n              value={dateFilter.endDate}\n              onChange={(e) => setDateFilter({ ...dateFilter, endDate: e.target.value })}\n              className=\"form-input\"\n            />\n          </div>\n          <button type=\"submit\" className=\"btn-primary\">\n            Lọc\n          </button>\n          <button type=\"button\" onClick={clearFilter} className=\"btn-secondary\">\n            Xóa bộ lọc\n          </button>\n        </form>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">📊</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Tổng đơn hàng</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">{reportData.totalOrders}</dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">💰</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Tổng doanh thu</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {reportData.totalRevenue.toLocaleString(\"vi-VN\")} VNĐ\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">📈</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Doanh thu TB/đơn</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {reportData.totalOrders > 0\n                      ? Math.round(reportData.totalRevenue / reportData.totalOrders).toLocaleString(\"vi-VN\")\n                      : 0}{\" \"}\n                    VNĐ\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <span className=\"text-2xl\">🏆</span>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">SP bán chạy nhất</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">{reportData.topProducts[0]?.totalSold || 0}</dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Top Products */}\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Sản phẩm bán chạy</h2>\n          <div className=\"space-y-4\">\n            {reportData.topProducts.map((product, index) => (\n              <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <span className=\"text-lg font-bold text-gray-500 mr-3\">#{index + 1}</span>\n                  <div>\n                    <p className=\"font-medium text-gray-900\">{product.name}</p>\n                    <p className=\"text-sm text-gray-600\">Đã bán: {product.totalSold} sản phẩm</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"font-medium text-green-600\">{product.revenue.toLocaleString(\"vi-VN\")} VNĐ</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Monthly Stats */}\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Thống kê theo tháng</h2>\n          <div className=\"space-y-4\">\n            {reportData.monthlyStats.map((stat, index) => (\n              <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div>\n                  <p className=\"font-medium text-gray-900\">Tháng {stat.month}</p>\n                  <p className=\"text-sm text-gray-600\">{stat.orders} đơn hàng</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"font-medium text-blue-600\">{stat.revenue.toLocaleString(\"vi-VN\")} VNĐ</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Simple Chart Visualization */}\n      <div className=\"mt-8 bg-white shadow rounded-lg p-6\">\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Biểu đồ doanh thu theo tháng</h2>\n        <div className=\"space-y-3\">\n          {reportData.monthlyStats.map((stat, index) => {\n            const maxRevenue = Math.max(...reportData.monthlyStats.map((s) => s.revenue))\n            const percentage = maxRevenue > 0 ? (stat.revenue / maxRevenue) * 100 : 0\n\n            return (\n              <div key={index} className=\"flex items-center\">\n                <div className=\"w-20 text-sm text-gray-600\">{stat.month}</div>\n                <div className=\"flex-1 mx-4\">\n                  <div className=\"bg-gray-200 rounded-full h-6 relative\">\n                    <div\n                      className=\"bg-blue-500 h-6 rounded-full flex items-center justify-end pr-2\"\n                      style={{ width: `${percentage}%` }}\n                    >\n                      <span className=\"text-white text-xs font-medium\">{stat.revenue.toLocaleString(\"vi-VN\")}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"w-16 text-sm text-gray-600 text-right\">{stat.orders} đơn</div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Detailed Orders List */}\n      {showDetailList && (\n        <div className=\"mt-8 bg-white shadow rounded-lg p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-lg font-medium text-gray-900\">\n              Danh sách đơn hàng chi tiết\n              {dateFilter.startDate && dateFilter.endDate && (\n                <span className=\"text-sm text-gray-600 ml-2\">\n                  (Từ {new Date(dateFilter.startDate).toLocaleDateString(\"vi-VN\")} đến{\" \"}\n                  {new Date(dateFilter.endDate).toLocaleDateString(\"vi-VN\")})\n                </span>\n              )}\n            </h2>\n            <button onClick={() => setShowDetailList(false)} className=\"text-gray-400 hover:text-gray-600\">\n              ✕ Đóng\n            </button>\n          </div>\n\n          {detailOrders.length === 0 ? (\n            <p className=\"text-center text-gray-500 py-8\">Không có đơn hàng nào trong khoảng thời gian này</p>\n          ) : (\n            <div className=\"table-responsive\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Mã đơn hàng\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Ngày tạo\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Khách hàng\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Số điện thoại\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Sản phẩm\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Tổng tiền\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Trạng thái\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {detailOrders.map((order) => (\n                    <tr key={order._id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                        {order.orderNumber}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {new Date(order.createdAt).toLocaleDateString(\"vi-VN\")}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{order.customerName}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{order.customerPhone}</td>\n                      <td className=\"px-6 py-4 text-sm text-gray-900\">\n                        {order.items?.map((item, index) => (\n                          <div key={index} className=\"text-xs\">\n                            {item.product?.name} x{item.quantity}\n                          </div>\n                        )) || \"N/A\"}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {order.totalAmount?.toLocaleString(\"vi-VN\")} VNĐ\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {order.status === \"completed\" && <span className=\"badge-success\">Hoàn thành</span>}\n                        {order.status === \"pending\" && <span className=\"badge-warning\">Chờ xử lý</span>}\n                        {order.status === \"cancelled\" && <span className=\"badge-danger\">Đã hủy</span>}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Reports\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}